jQuery(function(a){function t(t,e){var r=n.filter(function(a){return a.ref_obj_name==t});r.length>0&&a.each(r,function(a,t){var r=t.tag_instance,n=t.ajax_parameters,i=n.findIndex(function(a){return a.key==e});if(i!==-1){var o=n[i].ajax;r.reloadWithNewAjax({method:"POST",url:ajaxurl,data:o})}})}function e(e){var r=a(this),n=r.attr("name"),i="";(r.is(":radio")||"select-one"===r.prop("type"))&&(i=r.val(),t(n,i))}function r(t){var r=t.data("ajax-parameters"),i=t.data("ref-object-id"),o=parseInt(t.data("ajax-param-index")),c={},s=t.data("tags-init"),d={};d.ref_obj_name=i,void 0!==i&&""!==i&&a(document).on("change",'*[name="'+i+'"]',e),s=void 0===s||""===s?[]:s.split(","),void 0!==r&&(r=r.toString().trim(),""!==r&&(r=r.replace(/\'/gi,'"'),json_parameters=JSON.parse(r),c=json_parameters[o].ajax,d.ajax_parameters=json_parameters));var u={placeholder:"Mời nhập ký tự gợi ý rồi chọn mục dữ liệu cần ...",src:{ajax:{method:"POST",url:ajaxurl,data:c}},array_tags_init:s};d.tag_instance=t.jcustomtag(u),n.push(d)}var n=[];a("._taginput").each(function(t,e){r(a(e))})});